{"ast":null,"code":"import{BrowserRouter as Router,Routes,Route,Navigate}from'react-router-dom';import{useState,useEffect,useRef}from'react';import Header from'./components/layout/Header';import Sidebar from'./components/layout/Sidebar';import Login from'./pages/Login';import Home from'./pages/Home';import Food from'./pages/Food';import OrderDetails from'./pages/OrderDetails';import OrderConfirmation from'./pages/OrderConfirmation';import TeeTime from'./pages/TeeTime';import DrivingRange from'./pages/DrivingRange';import CourseMap from'./pages/CourseMap';import Lessons from'./pages/Lessons';import ProShop from'./pages/ProShop';import ProShopOrderDetails from'./pages/ProShopOrderDetails';import Help from'./pages/Help';import Events from'./pages/Events';import Profile from'./pages/Profile';import'./App.css';// Protected Route Component\nimport{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const ProtectedRoute=_ref=>{let{children}=_ref;// For demo, we'll consider user logged in if there's a token in localStorage\nconst isAuthenticated=localStorage.getItem('isAuthenticated');if(!isAuthenticated){return/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true});}return children;};function App(){const[isSidebarOpen,setIsSidebarOpen]=useState(false);const[isAuthenticated,setIsAuthenticated]=useState(localStorage.getItem('isAuthenticated')==='true');const sidebarRef=useRef(null);const menuButtonRef=useRef(null);const toggleSidebar=()=>{setIsSidebarOpen(!isSidebarOpen);};const handleLogin=()=>{console.log('Login handler called');setIsAuthenticated(true);localStorage.setItem('isAuthenticated','true');};const handleLogout=()=>{setIsAuthenticated(false);localStorage.removeItem('isAuthenticated');setIsSidebarOpen(false);window.location.href='/login';};useEffect(()=>{function handleClickOutside(event){if(isSidebarOpen&&sidebarRef.current&&menuButtonRef.current&&!sidebarRef.current.contains(event.target)&&!menuButtonRef.current.contains(event.target)){setIsSidebarOpen(false);}}if(isSidebarOpen){document.addEventListener('mousedown',handleClickOutside);}return()=>{document.removeEventListener('mousedown',handleClickOutside);};},[isSidebarOpen]);return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{className:`App ${isSidebarOpen?'sidebar-open':''}`,children:[isAuthenticated&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{toggleSidebar:toggleSidebar,isOpen:isSidebarOpen,menuButtonRef:menuButtonRef}),/*#__PURE__*/_jsx(Sidebar,{isOpen:isSidebarOpen,toggleSidebar:toggleSidebar,sidebarRef:sidebarRef,onLogout:handleLogout})]}),/*#__PURE__*/_jsx(\"main\",{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:isAuthenticated?/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true}):/*#__PURE__*/_jsx(Login,{onLogin:handleLogin})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Home,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/food\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Food,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/order-details\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(OrderDetails,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/order-confirmation\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(OrderConfirmation,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/tee-time\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(TeeTime,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/driving-range\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(DrivingRange,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/course-map\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(CourseMap,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/lessons\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Lessons,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/shop\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(ProShop,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/shop/order-details\",element:/*#__PURE__*/_jsx(ProShopOrderDetails,{})}),/*#__PURE__*/_jsx(Route,{path:\"/help\",element:/*#__PURE__*/_jsx(Help,{})}),/*#__PURE__*/_jsx(Route,{path:\"/events\",element:/*#__PURE__*/_jsx(Events,{})}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",element:/*#__PURE__*/_jsx(Profile,{})})]})})]})});}export default App;","map":{"version":3,"names":["BrowserRouter","Router","Routes","Route","Navigate","useState","useEffect","useRef","Header","Sidebar","Login","Home","Food","OrderDetails","OrderConfirmation","TeeTime","DrivingRange","CourseMap","Lessons","ProShop","ProShopOrderDetails","Help","Events","Profile","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","ProtectedRoute","_ref","children","isAuthenticated","localStorage","getItem","to","replace","App","isSidebarOpen","setIsSidebarOpen","setIsAuthenticated","sidebarRef","menuButtonRef","toggleSidebar","handleLogin","console","log","setItem","handleLogout","removeItem","window","location","href","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","className","isOpen","onLogout","path","element","onLogin"],"sources":["C:/Users/fazil/OneDrive/Documents/GitHub/wgca-dobson1/src/App.js"],"sourcesContent":["import { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport { useState, useEffect, useRef } from 'react';\nimport Header from './components/layout/Header';\nimport Sidebar from './components/layout/Sidebar';\nimport Login from './pages/Login';\nimport Home from './pages/Home';\nimport Food from './pages/Food';\nimport OrderDetails from './pages/OrderDetails';\nimport OrderConfirmation from './pages/OrderConfirmation';\nimport TeeTime from './pages/TeeTime';\nimport DrivingRange from './pages/DrivingRange';\nimport CourseMap from './pages/CourseMap';\nimport Lessons from './pages/Lessons';\nimport ProShop from './pages/ProShop';\nimport ProShopOrderDetails from './pages/ProShopOrderDetails';\nimport Help from './pages/Help';\nimport Events from './pages/Events';\nimport Profile from './pages/Profile';\nimport './App.css';\n\n// Protected Route Component\nconst ProtectedRoute = ({ children }) => {\n  // For demo, we'll consider user logged in if there's a token in localStorage\n  const isAuthenticated = localStorage.getItem('isAuthenticated');\n  \n  if (!isAuthenticated) {\n    return <Navigate to=\"/login\" replace />;\n  }\n  \n  return children;\n};\n\nfunction App() {\n  const [isSidebarOpen, setIsSidebarOpen] = useState(false);\n  const [isAuthenticated, setIsAuthenticated] = useState(\n    localStorage.getItem('isAuthenticated') === 'true'\n  );\n  const sidebarRef = useRef(null);\n  const menuButtonRef = useRef(null);\n\n  const toggleSidebar = () => {\n    setIsSidebarOpen(!isSidebarOpen);\n  };\n\n  const handleLogin = () => {\n    console.log('Login handler called');\n    setIsAuthenticated(true);\n    localStorage.setItem('isAuthenticated', 'true');\n  };\n\n  const handleLogout = () => {\n    setIsAuthenticated(false);\n    localStorage.removeItem('isAuthenticated');\n    setIsSidebarOpen(false);\n    window.location.href = '/login';\n  };\n\n  useEffect(() => {\n    function handleClickOutside(event) {\n      if (isSidebarOpen && \n          sidebarRef.current && \n          menuButtonRef.current && \n          !sidebarRef.current.contains(event.target) &&\n          !menuButtonRef.current.contains(event.target)) {\n        setIsSidebarOpen(false);\n      }\n    }\n\n    if (isSidebarOpen) {\n      document.addEventListener('mousedown', handleClickOutside);\n    }\n\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [isSidebarOpen]);\n\n  return (\n    <Router>\n      <div className={`App ${isSidebarOpen ? 'sidebar-open' : ''}`}>\n        {isAuthenticated && (\n          <>\n            <Header \n              toggleSidebar={toggleSidebar} \n              isOpen={isSidebarOpen} \n              menuButtonRef={menuButtonRef}\n            />\n            <Sidebar \n              isOpen={isSidebarOpen} \n              toggleSidebar={toggleSidebar}\n              sidebarRef={sidebarRef}\n              onLogout={handleLogout}\n            />\n          </>\n        )}\n        <main>\n          <Routes>\n            <Route \n              path=\"/login\" \n              element={\n                isAuthenticated ? \n                  <Navigate to=\"/\" replace /> : \n                  <Login onLogin={handleLogin} />\n              } \n            />\n            \n            <Route \n              path=\"/\" \n              element={\n                <ProtectedRoute>\n                  <Home />\n                </ProtectedRoute>\n              } \n            />\n            <Route path=\"/food\" element={\n              <ProtectedRoute>\n                <Food />\n              </ProtectedRoute>\n            } />\n            <Route path=\"/order-details\" element={\n              <ProtectedRoute>\n                <OrderDetails />\n              </ProtectedRoute>\n            } />\n            <Route path=\"/order-confirmation\" element={\n              <ProtectedRoute>\n                <OrderConfirmation />\n              </ProtectedRoute>\n            } />\n            <Route path=\"/tee-time\" element={\n              <ProtectedRoute>\n                <TeeTime />\n              </ProtectedRoute>\n            } />\n            <Route path=\"/driving-range\" element={\n              <ProtectedRoute>\n                <DrivingRange />\n              </ProtectedRoute>\n            } />\n            <Route path=\"/course-map\" element={\n              <ProtectedRoute>\n                <CourseMap />\n              </ProtectedRoute>\n            } />\n            <Route path=\"/lessons\" element={\n              <ProtectedRoute>\n                <Lessons />\n              </ProtectedRoute>\n            } />\n            <Route path=\"/shop\" element={\n              <ProtectedRoute>\n                <ProShop />\n              </ProtectedRoute>\n            } />\n            <Route path=\"/shop/order-details\" element={<ProShopOrderDetails />} />\n            <Route path=\"/help\" element={<Help />} />\n            <Route path=\"/events\" element={<Events />} />\n            <Route path=\"/profile\" element={<Profile />} />\n          </Routes>\n        </main>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}